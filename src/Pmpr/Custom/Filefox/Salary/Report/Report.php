<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             689ba48c94b33             |
    |_______________________________________|
*/
 namespace Pmpr\Custom\Filefox\Salary\Report; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Custom\Filefox\Container; use Pmpr\Custom\Filefox\Salary\Model\PostOwner; use Pmpr\Custom\Filefox\Salary\Model\Team; use Pmpr\Custom\Filefox\Salary\Report\Model\Produced; use Pmpr\Custom\Filefox\Salary\Report\Model\Published; use Pmpr\Custom\Filefox\Salary\Salary; use Pmpr\Module\Salary\Model\Request; class Report extends Container { public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('admin_init', [$this, 'yeyiguyegmmyusea'])->qcsmikeggeemccuu(Process::miukuoecssaqmkio, [$this, 'oummcaeuowcsuyqm'])->qcsmikeggeemccuu(Process::mcsyquqmyoykwmsa, [$this, 'mmsomaamygcqawiq']); } public function yeyiguyegmmyusea() { Process::symcgieuakksimmu()->gkkwyeccuqkkacsg(); $this->caokeucsksukesyo()->ekkwaykokcgqkmoi()->oeowmqwauagmkkwu('ff_report_setup', 100, function () { $yqywigeqicceocau = Produced::symcgieuakksimmu(); $oquqsamoqkequssa = PostOwner::symcgieuakksimmu(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gkioossaaiumqqsq = $oquqsamoqkequssa->iekyeyicoyyawomk(); $auueamgyauagmwuc = $yqywigeqicceocau->uqeoyqiwywwmsiew(Constants::uouymeyqasaeckso)->gkwkqmwweiawigae(Constants::emgcgiseaoouacge); $ukesawisauyougiq = $eqwoegegiamegqsm->kyckwuuiqwmyoqma()->omaeiiwasuqkeeak($oquqsamoqkequssa->myywwqkyiwawwquy($oquqsamoqkequssa::cmiegiycgiucucgs))->omaeiiwasuqkeeak($gkioossaaiumqqsq->myywwqkyiwawwquy(Constants::qgmuskygocwmouos, Constants::uouymeyqasaeckso))->omaeiiwasuqkeeak($gkioossaaiumqqsq->qkysywsciswwyeao(Constants::wssueeuwuycgegwk, 'DATE', Constants::wssueeuwuycgegwk, Constants::qgmuskygocwmouos), true)->omaeiiwasuqkeeak($gkioossaaiumqqsq->qkysywsciswwyeao('*', 'COUNT', Constants::qiyqwyiiwykeccmo), true)->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg(Constants::kqigmeickowqiiyy, 'ID')->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos)->ggmcoioqwgyccyus())->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($oquqsamoqkequssa::cmiegiycgiucucgs)->amwwousckkqyweok())->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::gikuasuikwemyqoq, Constants::iuemaweiggauysws)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos)->maqiysyuqmwcqoig('!='))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $auueamgyauagmwuc)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos))->yockscoguugkeumq([$oquqsamoqkequssa->myywwqkyiwawwquy($oquqsamoqkequssa::cmiegiycgiucucgs), $gkioossaaiumqqsq->myywwqkyiwawwquy(Constants::qgmuskygocwmouos, Constants::uouymeyqasaeckso), $gkioossaaiumqqsq->qkysywsciswwyeao(Constants::wssueeuwuycgegwk, 'DATE', '', Constants::qgmuskygocwmouos, true)]); $oiwaooiwqgwgsccq = $gkioossaaiumqqsq->cieaqygkucwoqwke($ukesawisauyougiq); if ($oiwaooiwqgwgsccq) { foreach ($oiwaooiwqgwgsccq as $oewygkkqmuaiqcey) { $oewygkkqmuaiqcey = (array) $oewygkkqmuaiqcey; $ousomaowqseoamse = $oewygkkqmuaiqcey[$yqywigeqicceocau::cmiegiycgiucucgs] ?? 0; $aeeeamukmmwqiwsi = $oewygkkqmuaiqcey[Constants::wssueeuwuycgegwk] ?? null; $useksmwkuswkwcqg = $oewygkkqmuaiqcey[Constants::uouymeyqasaeckso] ?? 0; $gaeqamemwmwsyukm = $oewygkkqmuaiqcey[Constants::qiyqwyiiwykeccmo] ?? 0; if ($ousomaowqseoamse && $aeeeamukmmwqiwsi && $useksmwkuswkwcqg) { if (!$yqywigeqicceocau->iekyeyicoyyawomk()->exists([$eqwoegegiamegqsm->megqywqeuquawkim($yqywigeqicceocau::cmiegiycgiucucgs, $ousomaowqseoamse), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::kumuoysauoagaiiy, $aeeeamukmmwqiwsi), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)])) { $yqywigeqicceocau->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::kumuoysauoagaiiy => $aeeeamukmmwqiwsi, Constants::qiyqwyiiwykeccmo => $gaeqamemwmwsyukm, Constants::uouymeyqasaeckso => $useksmwkuswkwcqg, $yqywigeqicceocau::cmiegiycgiucucgs => $ousomaowqseoamse]); } } } } $ksgymakcqkqakwoy = $eqwoegegiamegqsm->kyckwuuiqwmyoqma()->omaeiiwasuqkeeak($oquqsamoqkequssa->myywwqkyiwawwquy($oquqsamoqkequssa::mwisuqgywiccyykw))->omaeiiwasuqkeeak($gkioossaaiumqqsq->myywwqkyiwawwquy(Constants::qgmuskygocwmouos, Constants::uouymeyqasaeckso))->omaeiiwasuqkeeak($gkioossaaiumqqsq->qkysywsciswwyeao(Constants::wssueeuwuycgegwk, 'DATE', Constants::wssueeuwuycgegwk, Constants::qgmuskygocwmouos), true)->omaeiiwasuqkeeak($gkioossaaiumqqsq->qkysywsciswwyeao('*', 'COUNT', Constants::qiyqwyiiwykeccmo), true)->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg(Constants::kqigmeickowqiiyy, 'ID')->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos)->ggmcoioqwgyccyus())->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($oquqsamoqkequssa::cmiegiycgiucucgs)->amwwousckkqyweok())->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::gikuasuikwemyqoq, Constants::wmmucsiyiyusmssm)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $auueamgyauagmwuc)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos))->yockscoguugkeumq([$oquqsamoqkequssa->myywwqkyiwawwquy($oquqsamoqkequssa::mwisuqgywiccyykw), $gkioossaaiumqqsq->myywwqkyiwawwquy(Constants::qgmuskygocwmouos, Constants::uouymeyqasaeckso), $gkioossaaiumqqsq->qkysywsciswwyeao(Constants::wssueeuwuycgegwk, 'DATE', '', Constants::qgmuskygocwmouos, true)]); $qcayikmsiqiuqcyc = $gkioossaaiumqqsq->cieaqygkucwoqwke($ksgymakcqkqakwoy); if ($qcayikmsiqiuqcyc) { $yqgemsuugewkmoqa = Published::symcgieuakksimmu(); foreach ($qcayikmsiqiuqcyc as $geewugwgkmgscwoi) { $geewugwgkmgscwoi = (array) $geewugwgkmgscwoi; $aeeeamukmmwqiwsi = $geewugwgkmgscwoi[Constants::wssueeuwuycgegwk] ?? null; $useksmwkuswkwcqg = $geewugwgkmgscwoi[Constants::uouymeyqasaeckso] ?? 0; $wgkogsmkwskskgsw = $geewugwgkmgscwoi[$yqgemsuugewkmoqa::mwisuqgywiccyykw] ?? 0; $gaeqamemwmwsyukm = $geewugwgkmgscwoi[Constants::qiyqwyiiwykeccmo] ?? 0; if ($wgkogsmkwskskgsw && $aeeeamukmmwqiwsi && $useksmwkuswkwcqg) { if (!$yqgemsuugewkmoqa->iekyeyicoyyawomk()->exists([$eqwoegegiamegqsm->megqywqeuquawkim($yqgemsuugewkmoqa::mwisuqgywiccyykw, $wgkogsmkwskskgsw), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::kumuoysauoagaiiy, $aeeeamukmmwqiwsi), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)])) { $yqgemsuugewkmoqa->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::kumuoysauoagaiiy => $aeeeamukmmwqiwsi, Constants::qiyqwyiiwykeccmo => $gaeqamemwmwsyukm, Constants::uouymeyqasaeckso => $useksmwkuswkwcqg, $yqgemsuugewkmoqa::mwisuqgywiccyykw => $wgkogsmkwskskgsw]); } } } } }); } public function mmsomaamygcqawiq() { Process::symcgieuakksimmu()->iimgsaawycyqukie(1); } public function oummcaeuowcsuyqm($suaemuyiacqyugsm = 1) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $mmsugugggqciomke = Team::symcgieuakksimmu(); $sogksuscggsicmac = $mmsugugggqciomke->iekyeyicoyyawomk()->aeggeuqycwawueqy($mmsugugggqciomke->iekyeyicoyyawomk()->kqewyqqqiyiouaou([$eqwoegegiamegqsm->megqywqeuquawkim($mmsugugggqciomke::ouesgysauomeocqm)->amwwousckkqyweok()]), [Constants::imywcsggckkcywgk => $suaemuyiacqyugsm, Constants::ausqeuugegoygouq => 10]); $iaseaecuamsukckm = $sogksuscggsicmac[Constants::qwumqqyuasyskkkc] ?? []; if ($iaseaecuamsukckm) { $qsuqeayysewsckig = strtotime('yesterday', $this->caokeucsksukesyo()->sgqicqeoumwmsmyw()->gwgmymsuwsceguce()); $emmwgeoiocqaokae = date('Y-m-d 00:00:00', $qsuqeayysewsckig); $mccmsuuaamygwumo = date('Y-m-d 23:59:59', $qsuqeayysewsckig); $kueeocmceokoouqa = Request::symcgieuakksimmu(); $yqywigeqicceocau = Produced::symcgieuakksimmu(); $yqgemsuugewkmoqa = Published::symcgieuakksimmu(); $oquqsamoqkequssa = PostOwner::symcgieuakksimmu(); $ukesawisauyougiq = [$eqwoegegiamegqsm->owackeyiuiikegqg(Constants::kqigmeickowqiiyy, 'ID')->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos)->ggmcoioqwgyccyus(), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::gikuasuikwemyqoq, Constants::iuemaweiggauysws)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos)->maqiysyuqmwcqoig('!='), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::CREATED_AT, [$emmwgeoiocqaokae, $mccmsuuaamygwumo])->wiqiksaowkoeiymu()->yaoukqkouaeeycuy()]; $ksgymakcqkqakwoy = $ukesawisauyougiq; $ksgymakcqkqakwoy[] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::gikuasuikwemyqoq, Constants::wmmucsiyiyusmssm)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos); $sciomagaqmgggsiu = $yqgemsuugewkmoqa->uqeoyqiwywwmsiew(Constants::uouymeyqasaeckso)->gkwkqmwweiawigae(Constants::emgcgiseaoouacge); foreach ($iaseaecuamsukckm as $ksuesqoiqqiiyqsq) { $wgkogsmkwskskgsw = $mmsugugggqciomke->mwyqswsaeeewsosm($ksuesqoiqqiiyqsq); if ($wgkogsmkwskskgsw) { $ksgymakcqkqakwoy[Salary::mwisuqgywiccyykw] = $eqwoegegiamegqsm->megqywqeuquawkim(Salary::mwisuqgywiccyykw, $wgkogsmkwskskgsw); $okycmmskgswewacc = $mmsugugggqciomke->iekyeyicoyyawomk()->iscemaoqqckmkago($mmsugugggqciomke::mmwykkacqsucssgc, $ksuesqoiqqiiyqsq, ['*'], [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, [Constants::cwiummueqsucqayc, $kueeocmceokoouqa::wwggoguacgcaqaqm])]); foreach ($okycmmskgswewacc as $aqmwamyiwgeeymqa) { $ousomaowqseoamse = $kueeocmceokoouqa->mwyqswsaeeewsosm($aqmwamyiwgeeymqa); if ($ousomaowqseoamse) { $ukesawisauyougiq[$yqywigeqicceocau::cmiegiycgiucucgs] = $eqwoegegiamegqsm->megqywqeuquawkim($oquqsamoqkequssa::cmiegiycgiucucgs, $ousomaowqseoamse); foreach ($sciomagaqmgggsiu as $useksmwkuswkwcqg) { $ukesawisauyougiq[Constants::uouymeyqasaeckso] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos); $eiyuimikscyeqwgg = $oquqsamoqkequssa->iekyeyicoyyawomk()->ygmcsmegcysyeoss(['*'], $oquqsamoqkequssa->iekyeyicoyyawomk()->kqewyqqqiyiouaou($ukesawisauyougiq)); if ($eiyuimikscyeqwgg > 0) { if ($yqywigeqicceocau->iekyeyicoyyawomk()->exists([$eqwoegegiamegqsm->megqywqeuquawkim($yqywigeqicceocau::cmiegiycgiucucgs, $ousomaowqseoamse), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::kumuoysauoagaiiy, [$emmwgeoiocqaokae, $mccmsuuaamygwumo])->yaoukqkouaeeycuy(), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)])) { continue; } $yqywigeqicceocau->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::kumuoysauoagaiiy => $emmwgeoiocqaokae, Constants::qiyqwyiiwykeccmo => $eiyuimikscyeqwgg, Constants::uouymeyqasaeckso => $useksmwkuswkwcqg, $yqywigeqicceocau::cmiegiycgiucucgs => $ousomaowqseoamse]); } } } } foreach ($sciomagaqmgggsiu as $useksmwkuswkwcqg) { $ksgymakcqkqakwoy[Constants::uouymeyqasaeckso] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)->aqkyoweegqwuwsgw(Constants::qgmuskygocwmouos); $owswowmiykkyaawm = $oquqsamoqkequssa->iekyeyicoyyawomk()->ygmcsmegcysyeoss(['*'], $oquqsamoqkequssa->iekyeyicoyyawomk()->kqewyqqqiyiouaou($ksgymakcqkqakwoy)); if ($owswowmiykkyaawm > 0) { if ($yqgemsuugewkmoqa->iekyeyicoyyawomk()->exists([$eqwoegegiamegqsm->megqywqeuquawkim($yqgemsuugewkmoqa::mwisuqgywiccyykw, $wgkogsmkwskskgsw), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::kumuoysauoagaiiy, [$emmwgeoiocqaokae, $mccmsuuaamygwumo])->yaoukqkouaeeycuy(), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)])) { continue; } $yqgemsuugewkmoqa->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::kumuoysauoagaiiy => $emmwgeoiocqaokae, Constants::qiyqwyiiwykeccmo => $owswowmiykkyaawm, Constants::uouymeyqasaeckso => $useksmwkuswkwcqg, $yqgemsuugewkmoqa::mwisuqgywiccyykw => $wgkogsmkwskskgsw]); } } } } if (!$this->caokeucsksukesyo()->asgqmkcukouykiie()->iyiccksyewqymmqg($sogksuscggsicmac, $suaemuyiacqyugsm)) { Process::symcgieuakksimmu()->iimgsaawycyqukie($suaemuyiacqyugsm + 1); } } } }
