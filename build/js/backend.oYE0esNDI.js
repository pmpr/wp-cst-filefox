/*! For license information please see backend.oYE0esNDI.js.LICENSE.txt */
!function(){const e=PRHelper.getType(),t=PRHelper.getHook(),n=PRHelper.getHTML();function l(e,l,i,o,a){const c=n.getValue(o);n.spinner(a),PRHelper.getRequest().ajax("get_related_terms").onSuccess((n=>{if("undefined"!=typeof jQuery){const l=jQuery(e);l.val(""),l.selectpicker("val",""),l.selectpicker("deselectAll"),l.find('option:not([value=""])').remove(),t.doAction("form_generator_select_add_options",l,n,!0,!1,!0),l.trigger("change")}})).onFinally((()=>{n.spinner(a,!1)})).send({taxonomy:i,related_to:c,related_to_tax:l})}function i(e=null){if(n.isElement(e)||(e=n.getElement('.form-field > select[name="parent"]')),n.isElement(e)){const t=parseInt(n.getValue(e)),l=n.getElement('.form-field select[id="material"]');PRHelper.getForm().changeFieldVisibility(l,t<=0)}}t.on("DOMContentLoaded",(()=>{const o={category:"material",product_cat:"material"};for(let e in o){const i=o[e];t.addAction(`form_generator_tax_input_${i}_changed`,(function(){const t=n.getElement(`#tax_input_${e}`);n.isElement(t)&&l(t,i,e,`#tax_input_${i}`,n.getParent(t,".postbox"))}))}t.bubbling("change",(function(t){const i=n.getTarget(t),o=n.getParent(i,".pr-fieldset"),a={category:n.getElement("select.field-id-categories",o),product_cat:n.getElement("select.field-id-product_cats",o)};e.each(a,((e,t)=>{n.isElement(e)&&l(e,"material",t,i,o)}))}),"#activity_fields_collection select.field-id-material"),i(),t.on("change",(function(e,t){i(t)}),'.form-field > select[name="parent"]')}))}();