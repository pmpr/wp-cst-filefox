/*! For license information please see backend.cBvLKwOXC.js.LICENSE.txt */
!function(){const e=PRHelper.getType(),t=PRHelper.getHook(),n=PRHelper.getHTML();function a(e,a,o,l,r){const i=n.getValue(l);n.spinner(r),PRHelper.getRequest().ajax("get_related_terms").onSuccess((n=>{if("undefined"!=typeof jQuery){const a=jQuery(e);a.val(""),a.selectpicker("val",""),a.selectpicker("deselectAll"),a.find('option:not([value=""])').remove(),t.doAction("form_generator_select_add_options",a,n,!0,!1,!0),a.trigger("change")}})).onFinally((()=>{n.spinner(r,!1)})).send({taxonomy:o,related_to:i,related_to_tax:a})}function o(e=null){if(n.isElement(e)||(e=n.getElement('.term-parent-wrap select[name="parent"]')),n.isElement(e)){const t=parseInt(n.getValue(e)),a=n.getParent('.form-field select[id="material"]',".form-field");t>0?n.fadeOut(a):n.fadeIn(a)}}t.on("DOMContentLoaded",(()=>{const l={category:"material",product_cat:"material"};for(let e in l){const o=l[e];t.addAction(`form_generator_tax_input_${o}_changed`,(function(){const t=n.getElement(`#tax_input_${e}`);n.isElement(t)&&a(t,o,e,`#tax_input_${o}`,n.getParent(t,".postbox"))}))}t.bubbling("change",(function(t){const o=n.getTarget(t),l=n.getParent(o,".pr-fieldset"),r={category:n.getElement("select.field-id-categories",l),product_cat:n.getElement("select.field-id-product_cats",l)};e.each(r,((e,t)=>{n.isElement(e)&&a(e,"material",t,o,l)}))}),"#activity_fields_collection select.field-id-material"),o(),t.on("change",(function(e,t){o(t)}),'.term-parent-wrap select[name="parent"]')}))}();