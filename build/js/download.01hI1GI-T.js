/*! For license information please see download.01hI1GI-T.js.LICENSE.txt */
!function(){if("undefined"!=typeof PRProgress){PRHelper.getType();const e=PRHelper.getHTML(),o=PRHelper.getSetting(),s=PRHelper.getRequest(),a=PRFrontendHelper.getHTML(),r=PRHelper.getServer().getParam("file");PRHelper.getHook().on("click",(function(n){e.addClass(".start-download","pr-invisible"),e.addClass(".progressbar-wrapper","show"),PRProgress.start("#progress_bar",{duration:o.getOption("wait",0),onFinish:()=>{s.ajax(o.getOption("ajax.get_download_links")).onSuccess((o=>{e.append(o,".downloads"),e.addClass(".downloads","show")})).onError((e=>{a.alert("#message_wrapper",e.message??e)})).onFinally((()=>{e.removeClass(".progress-bar","show")})).addNonce().send({file:r})}})}),".start-download"),PRHelper.getHook().on("click",(function(o){e.addClass(e.getTarget(o,".download-link"),"disabled")}),".download-link")}}();