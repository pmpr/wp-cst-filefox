/*! For license information please see download.RYRtrUFl3.js.LICENSE.txt */
!function(){if("undefined"!=typeof PRProgress){PRHelper.getType();const e=PRHelper.getHTML(),s=PRHelper.getSetting(),o=PRHelper.getRequest(),r=PRFrontendHelper.getHTML(),a=PRHelper.getServer().getParam("file");PRHelper.getHook().on("click",(n=>{const t=e.getElement(".progressbar-wrapper");e.addClass(".start-download","pr-invisible"),e.addClass(t,"pr-show"),PRProgress.start("#progress_bar",{spots:[40,60,80,95],parts:4,autorun:!0,onFinish:()=>{o.ajax(s.getOption("ajax.get_download_links")).onSuccess((s=>{e.append(s,".downloads"),e.addClass(".downloads","pr-show")})).onError((e=>{r.alert("#message_wrapper",e.message??e)})).onFinally((()=>{e.removeClass(t,"pr-show")})).addNonce().send({file:a})}})}),".start-download"),PRHelper.getHook().on("click",((s,o)=>{e.addClass(o,"disabled")}),".download-link")}}();